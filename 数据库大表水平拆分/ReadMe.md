# mysql大表的水平拆分脚本
将一张大的表划分为两个表,按时间进行划分;
并修改原有表的存储引擎(MyISAM --> InnoDB)

### 步骤如下
1. 首先备份原有的大表。
1. 创建一张新表,使用innodb存储引擎;并保存三个月前的数据。
1. 创建另一张新表,使用innodb存储引擎;并保存三个月内的数据。
1. 清空原有大表的数据,使用truncate命令,是自增id从1开始
1. 修改原有表的存储引擎,修改为innodb
1. 从第二张新表中导入三个月内的数据到原来的大表中。
1. 删除第二张表,既保存三个月内数据的表
1. 记录日志

**注**
脚本接受两个参数
$1 服务器IP
$2 数据库密码
这样写的目的是因为考虑到多个服务器时,可以把多个服务器IP列表写到shell数组中批量执行。